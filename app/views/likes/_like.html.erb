
<% if current_user.nil? %>
  <%= link_to '<button>LIKE</button>'.html_safe, login_path %>
<% elsif current_user.has_like_on? type %>
  <%= button_to 'UNLIKE', like_path(id: type.likes.find_by(user_id: current_user.id)), method: 'delete'%>
<% else %>
  <%= form_for :like, url: likes_path, html: {class: 'pure-form'} do |form| %>
    <%= form.hidden_field :has_like_on, value: current_user.has_like_on?(type) %>
    <%= form.hidden_field :likeable_type, value: type.class %>
    <%= form.hidden_field :likeable_id, value: type.id %>
    <%= form.submit 'LIKE'%>
  <% end %>
<% end %>


<!--|current_user.likes.find_by(likeable_type: type.class.to_s, likeable_id: type.id)-->